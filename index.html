<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#82bc00">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ER QuickTranslate Pro</title>
    <style>
        :root {
            --helios-green: #82bc00;
            --helios-dark-green: #6a9a00;
            --bg-color: #f4f7f1;
            --card-bg: #ffffff;
            --text-dark: #2c3e50;
            --text-light: #7f8c8d;
            --border-color: #e2e8f0;
            --safe-area-bottom: env(safe-area-inset-bottom, 0px);
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            color: var(--text-dark);
            display: flex;
            flex-direction: column;
            height: 100vh;
            height: 100dvh;
            overflow: hidden;
        }

        /* Top Header & Sticky Area */
        .top-bar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 15px 15px 10px;
            border-bottom: 1px solid var(--border-color);
            z-index: 100;
            flex-shrink: 0;
        }

        .header-title {
            color: var(--helios-dark-green);
            margin: 0 0 10px 0;
            font-size: 1.2rem;
            font-weight: 700;
            text-align: center;
        }

        .search-container {
            position: relative;
            margin-bottom: 10px;
        }

        #searchInput {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            background-color: #eef2eb;
            transition: all 0.2s;
        }

        #searchInput:focus {
            outline: none;
            background-color: #e2e8db;
            box-shadow: 0 0 0 2px var(--helios-green);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.1rem;
            color: var(--text-light);
        }

        .lang-scroll {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 5px;
            scrollbar-width: none;
        }
        
        .lang-scroll::-webkit-scrollbar { display: none; }

        .lang-btn {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-dark);
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .lang-btn.active {
            background: var(--helios-green);
            color: white;
            border-color: var(--helios-green);
        }

        /* Main Content Area */
        .main-content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px 15px calc(80px + var(--safe-area-bottom));
            scroll-behavior: smooth;
        }

        /* Accordion Styles */
        .category-header {
            background: white;
            color: var(--helios-dark-green);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            font-size: 1.05rem;
            cursor: pointer;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
            transition: background-color 0.2s;
        }

        .category-header:active {
            background-color: #f8fafc;
        }

        .category-header .chevron {
            transition: transform 0.3s ease;
            font-size: 1.2rem;
            color: var(--helios-green);
        }

        .category-header.open .chevron {
            transform: rotate(180deg);
        }

        .category-content {
            display: none;
            padding: 10px 0;
            animation: fadeIn 0.3s ease;
        }

        .category-content.open {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .phrase-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.02);
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--helios-green);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .german { font-size: 0.85rem; color: var(--text-light); font-weight: 500; }
        .target-lang { font-size: 1.15rem; font-weight: 700; color: var(--text-dark); line-height: 1.3; }

        .card-actions {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            margin-top: 5px;
            border-top: 1px solid #f0f0f0;
            padding-top: 10px;
        }

        .action-btn {
            background: #f8fafc;
            border: 1px solid var(--border-color);
            color: var(--text-dark);
            width: 40px;
            height: 40px;
            border-radius: 10px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .action-btn.play { background: var(--helios-green); color: white; border: none; }
        .action-btn:active { transform: scale(0.95); }

        /* Freitext View */
        #freeTextView {
            display: none;
            flex-direction: column;
            gap: 15px;
            padding-top: 20px;
        }

        .textarea-container {
            position: relative;
            width: 100%;
        }

        #freeTextInput {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 1rem;
            font-family: inherit;
            resize: none;
            transition: border-color 0.2s;
        }

        #freeTextInput:focus {
            outline: none;
            border-color: var(--helios-green);
        }

        .mic-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: #e74c3c;
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(231, 76, 60, 0.3);
            transition: transform 0.2s;
        }

        .mic-btn.recording {
            animation: pulse 1.5s infinite;
            background: #c0392b;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(231, 76, 60, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
        }

        .translate-btn {
            background: var(--helios-green);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
        }

        .translate-btn:active { transform: scale(0.98); }

        #translationResult {
            margin-top: 20px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 12px;
            border-left: 4px solid var(--helios-green);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: none;
        }

        /* Patient Answer Mode View */
        #patientModeView {
            display: none;
            height: 100%;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            gap: 20px;
            text-align: center;
        }

        .big-btn {
            width: 100%;
            max-width: 300px;
            padding: 25px;
            border-radius: 20px;
            font-size: 2rem;
            font-weight: bold;
            color: white;
            border: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .btn-yes { background: #2ecc71; }
        .btn-no { background: #e74c3c; }
        .btn-idk { background: #95a5a6; color: white; font-size: 1.5rem; padding: 20px;}

        /* Visual Answer Overlay */
        #answerOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            font-weight: bold;
            color: white;
            text-transform: uppercase;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        #answerOverlay.show {
            opacity: 1;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-around;
            padding: 10px 0 calc(10px + var(--safe-area-bottom));
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-light);
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            gap: 4px;
        }

        .nav-item.active { color: var(--helios-green); }
        .nav-icon { font-size: 1.5rem; }

        .hidden { display: none !important; }
        .rtl { direction: rtl; text-align: right; }
        .ltr { direction: ltr; text-align: left; }
        .loader { border: 3px solid #f3f3f3; border-top: 3px solid white; border-radius: 50%; width: 20px; height: 20px; animation: spin 1s linear infinite; display: none; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    </style>
</head>
<body>

<div class="top-bar">
    <h1 class="header-title">Helios QuickTranslate</h1>
    <div class="search-container" id="searchBox">
        <span class="search-icon">üîç</span>
        <input type="text" id="searchInput" placeholder="Suchen (z.B. Schmerz, Atmen, Blut...)">
    </div>
    <div class="lang-scroll" id="langNav"></div>
</div>

<!-- Main Phrases View -->
<div class="main-content" id="phrasesView">
    <div id="phraseContainer"></div>
</div>

<!-- Freitext View -->
<div class="main-content" id="freeTextView">
    <h2 style="color: var(--text-dark); font-size: 1.1rem; margin: 0;">Freitext & Spracheingabe</h2>
    <p style="color: var(--text-light); font-size: 0.85rem; margin-top: -5px;">Sprich deinen Satz auf Deutsch ein oder tippe ihn. Die App √ºbersetzt live.</p>
    
    <div class="textarea-container">
        <textarea id="freeTextInput" placeholder="Deutschen Text hier eingeben..."></textarea>
        <button class="mic-btn" id="micBtn" onclick="toggleDictation()" title="Spracheingabe starten">üé§</button>
    </div>

    <button class="translate-btn" onclick="translateAndSpeak()">
        <span id="translateText">üåê √úbersetzen & Vorlesen</span>
        <div class="loader" id="translateLoader"></div>
    </button>

    <div id="translationResult">
        <div class="german" id="resGerman"></div>
        <div class="target-lang" id="resTarget" style="margin-top: 10px;"></div>
        <div class="card-actions">
            <button class="action-btn play" onclick="speakResultText()" title="Nochmal Vorlesen">üîä</button>
        </div>
    </div>
</div>

<!-- Patient Answer Mode View -->
<div class="main-content" id="patientModeView">
    <h2 style="color: var(--text-light); font-size: 1rem; margin-bottom: 20px;">Patienten Antwort Modus<br><small>(Bitte dem Patienten zeigen)</small></h2>
    
    <button class="big-btn btn-yes" onclick="handlePatientAnswer('Ja', '#2ecc71')">
        <div id="pm-yes" style="font-size: 3rem; margin-bottom: 10px;">üëç</div>
        <span id="pm-yes-text">Ja</span>
    </button>
    
    <button class="big-btn btn-no" onclick="handlePatientAnswer('Nein', '#e74c3c')">
        <div id="pm-no" style="font-size: 3rem; margin-bottom: 10px;">üëé</div>
        <span id="pm-no-text">Nein</span>
    </button>

    <button class="big-btn btn-idk" onclick="handlePatientAnswer('Wei√ü nicht', '#95a5a6')">
        ü§∑‚Äç‚ôÇÔ∏è <span id="pm-idk-text">Wei√ü nicht</span>
    </button>
</div>

<!-- Fullscreen Overlay for Answers -->
<div id="answerOverlay"></div>

<div class="bottom-nav">
    <div class="nav-item active" onclick="switchTab('phrases', this)">
        <span class="nav-icon">üìã</span>
        <span>Phrasen</span>
    </div>
    <div class="nav-item" onclick="switchTab('freetext', this)">
        <span class="nav-icon">üéôÔ∏è</span>
        <span>Freitext</span>
    </div>
    <div class="nav-item" onclick="switchTab('patient', this)">
        <span class="nav-icon">ü§ù</span>
        <span>Antwort</span>
    </div>
</div>

<script>
    const data = {
        languages: {
            "en": { name: "Englisch", code: "en-US", flag: "üá¨üáß", ui: { yes: "Yes", no: "No", idk: "I don't know" } },
            "ar": { name: "Arabisch", code: "ar-SA", flag: "üá∏üá¶", rtl: true, ui: { yes: "ŸÜÿπŸÖ", no: "ŸÑÿß", idk: "ŸÑÿß ÿ£ÿπÿ±ŸÅ" } },
            "fa": { name: "Persisch", code: "fa-IR", flag: "üáÆüá∑", rtl: true, ui: { yes: "ÿ®ŸÑŸá", no: "ÿÆ€åÿ±", idk: "ŸÜŸÖ€å‚ÄåÿØÿßŸÜŸÖ" } },
            "tr": { name: "T√ºrkisch", code: "tr-TR", flag: "üáπüá∑", ui: { yes: "Evet", no: "Hayƒ±r", idk: "Bilmiyorum" } },
            "ru": { name: "Russisch", code: "ru-RU", flag: "üá∑üá∫", ui: { yes: "–î–∞", no: "–ù–µ—Ç", idk: "–ù–µ –∑–Ω–∞—é" } },
            "uk": { name: "Ukrainisch", code: "uk-UA", flag: "üá∫üá¶", ui: { yes: "–¢–∞–∫", no: "–ù—ñ", idk: "–ù–µ –∑–Ω–∞—é" } },
            "pl": { name: "Polnisch", code: "pl-PL", flag: "üáµüá±", ui: { yes: "Tak", no: "Nie", idk: "Nie wiem" } },
            "ro": { name: "Rum√§nisch", code: "ro-RO", flag: "üá∑üá¥", ui: { yes: "Da", no: "Nu", idk: "Nu »ôtiu" } }
        },
        phrases: [
            // --- 1. TRIAGE & BEGR√úSSUNG ---
            { cat: "1. Triage & Begr√º√üung", tags: ["hallo", "arzt", "schwester"], de: "Hallo, ich bin Pflegekraft. Ein Arzt kommt gleich.", en: "Hello, I am a nurse. A doctor will be here shortly.", ar: "ŸÖÿ±ÿ≠ÿ®ÿßŸãÿå ÿ£ŸÜÿß ŸÖŸÖÿ±ÿ∂. ÿ≥Ÿäÿ£ÿ™Ÿä ÿßŸÑÿ∑ÿ®Ÿäÿ® ŸÇÿ±Ÿäÿ®ÿßŸã.", fa: "ÿ≥ŸÑÿßŸÖÿå ŸÖŸÜ Ÿæÿ±ÿ≥ÿ™ÿßÿ± Ÿáÿ≥ÿ™ŸÖ. ÿØ⁄©ÿ™ÿ± ÿ®Ÿá ÿ≤ŸàÿØŸä ŸÖ€å‚Äåÿ¢€åÿØ.", tr: "Merhaba, ben hem≈üireyim. Doktor birazdan gelecek.", ru: "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —è –º–µ–¥—Å–µ—Å—Ç—Ä–∞/–º–µ–¥–±—Ä–∞—Ç. –í—Ä–∞—á —Å–∫–æ—Ä–æ –ø—Ä–∏–¥–µ—Ç.", uk: "–î–æ–±—Ä–æ–≥–æ –¥–Ω—è, —è –º–µ–¥—Å–µ—Å—Ç—Ä–∞. –õ—ñ–∫–∞—Ä —Å–∫–æ—Ä–æ –ø—Ä–∏–π–¥–µ.", pl: "Dzie≈Ñ dobry, jestem pielƒôgniarkƒÖ. Lekarz zaraz przyjdzie.", ro: "BunƒÉ, sunt asistent. Un medic va veni cur√¢nd." },
            { cat: "1. Triage & Begr√º√üung", tags: ["ausweis", "karte", "krankenkasse"], de: "Haben Sie Ihren Ausweis oder die Krankenkarte dabei?", en: "Do you have your ID or health insurance card with you?", ar: "ŸáŸÑ ŸÖÿπŸÉ ŸáŸàŸäÿ™ŸÉ ÿ£Ÿà ÿ®ÿ∑ÿßŸÇÿ© ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ ÿßŸÑÿµÿ≠Ÿäÿü", fa: "⁄©ÿßÿ±ÿ™ ÿ¥ŸÜÿßÿ≥ÿß€å€å €åÿß ⁄©ÿßÿ±ÿ™ ÿ®€åŸÖŸá ŸáŸÖÿ±ÿßŸá ÿØÿßÿ±€åÿØÿü", tr: "Kimliƒüiniz veya saƒülƒ±k sigortasƒ± kartƒ±nƒ±z yanƒ±nƒ±zda mƒ±?", ru: "–£ –≤–∞—Å –µ—Å—Ç—å —Å —Å–æ–±–æ–π –ø–∞—Å–ø–æ—Ä—Ç –∏–ª–∏ —Å—Ç—Ä–∞—Ö–æ–≤–æ–π –ø–æ–ª–∏—Å?", uk: "–£ –≤–∞—Å —î –∑ —Å–æ–±–æ—é –ø–∞—Å–ø–æ—Ä—Ç –∞–±–æ —Å—Ç—Ä–∞—Ö–æ–≤–∏–π –ø–æ–ª—ñ—Å?", pl: "Czy ma pan/pani dow√≥d osobisty lub kartƒô ubezpieczenia?", ro: "Ave»õi actul de identitate sau cardul de sƒÉnƒÉtate?" },
            { cat: "1. Triage & Begr√º√üung", tags: ["sitzen", "platz", "warten"], de: "Bitte nehmen Sie im Wartezimmer Platz.", en: "Please take a seat in the waiting room.", ar: "Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ¨ŸÑŸàÿ≥ ŸÅŸä ÿ∫ÿ±ŸÅÿ© ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ±.", fa: "ŸÑÿ∑ŸÅÿß ÿØÿ± ÿßÿ™ÿßŸÇ ÿßŸÜÿ™ÿ∏ÿßÿ± ÿ®ŸÜÿ¥€åŸÜ€åÿØ.", tr: "L√ºtfen bekleme salonunda oturun.", ru: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–∏—Å—è–¥—å—Ç–µ –≤ –∑–∞–ª–µ –æ–∂–∏–¥–∞–Ω–∏—è.", uk: "–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞—á–µ–∫–∞–π—Ç–µ –≤ –∫—ñ–º–Ω–∞—Ç—ñ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è.", pl: "Proszƒô usiƒÖ≈õƒá w poczekalni.", ro: "VƒÉ rugƒÉm sƒÉ lua»õi loc √Æn sala de a»ôteptare." },
            { cat: "1. Triage & Begr√º√üung", tags: ["n√ºchtern", "essen", "trinken"], de: "Bitte essen und trinken Sie vorerst nichts mehr.", en: "Please do not eat or drink anything for now.", ar: "Ÿäÿ±ÿ¨Ÿâ ÿπÿØŸÖ ÿ™ŸÜÿßŸàŸÑ ÿßŸÑÿ∑ÿπÿßŸÖ ÿ£Ÿà ÿßŸÑÿ¥ÿ±ÿßÿ® ŸÅŸä ÿßŸÑŸàŸÇÿ™ ÿßŸÑÿ≠ÿßŸÑŸä.", fa: "ŸÑÿ∑ŸÅÿß ŸÅÿπŸÑÿß ⁄Ü€åÿ≤€å ŸÜÿÆŸàÿ±€åÿØ Ÿà ŸÜŸÜŸàÿ¥€åÿØ.", tr: "L√ºtfen ≈üimdilik hi√ßbir ≈üey yiyip i√ßmeyin.", ru: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –µ—à—å—Ç–µ –∏ –Ω–µ –ø–µ–π—Ç–µ.", uk: "–ë—É–¥—å –ª–∞—Å–∫–∞, –ø–æ–∫–∏ –Ω—ñ—á–æ–≥–æ –Ω–µ —ó–∂—Ç–µ —ñ –Ω–µ –ø–∏–π—Ç–µ.", pl: "Proszƒô na razie nic nie je≈õƒá ani nie piƒá.", ro: "VƒÉ rugƒÉm sƒÉ nu m√¢nca»õi »ôi sƒÉ nu be»õi nimic deocamdatƒÉ." },
            { cat: "1. Triage & Begr√º√üung", tags: ["angeh√∂rige", "familie"], de: "Sind Angeh√∂rige bei Ihnen?", en: "Are any family members with you?", ar: "ŸáŸÑ ŸÖÿπŸÉ ÿ£Ÿä ŸÖŸÜ ÿ£ŸÅÿ±ÿßÿØ ÿßŸÑÿπÿßÿ¶ŸÑÿ©ÿü", fa: "ÿ¢€åÿß ÿßÿπÿ∂ÿß€å ÿÆÿßŸÜŸàÿßÿØŸá ŸáŸÖÿ±ÿßŸá ÿ¥ŸÖÿß Ÿáÿ≥ÿ™ŸÜÿØÿü", tr: "Yanƒ±nƒ±zda aile √ºyelerinden biri var mƒ±?", ru: "–° –≤–∞–º–∏ –µ—Å—Ç—å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏?", uk: "–ó –≤–∞–º–∏ —î —Ä–æ–¥–∏—á—ñ?", pl: "Czy sƒÖ z panem/paniƒÖ cz≈Çonkowie rodziny?", ro: "Sunt membri ai familiei cu dumneavoastrƒÉ?" },

            // --- 2. SCHMERZANAMNESE (OPQRST) ---
            { cat: "2. Schmerzanamnese", tags: ["schmerz", "weh", "pain"], de: "Haben Sie Schmerzen?", en: "Are you in pain?", ar: "ŸáŸÑ ÿ™ÿ¥ÿπÿ± ÿ®ÿ£ŸÑŸÖÿü", fa: "ÿ¢€åÿß ÿØÿ±ÿØ ÿØÿßÿ±€åÿØÿü", tr: "Aƒürƒ±nƒ±z var mƒ±?", ru: "–£ –≤–∞—Å —á—Ç–æ-—Ç–æ –±–æ–ª–∏—Ç?", uk: "–£ –≤–∞—Å —â–æ—Å—å –±–æ–ª–∏—Ç—å?", pl: "Czy co≈õ boli?", ro: "Ave»õi dureri?" },
            { cat: "2. Schmerzanamnese", tags: ["wo", "ort", "zeigen"], de: "Zeigen Sie mit einem Finger, wo es am meisten weh tut.", en: "Point with one finger to where it hurts the most.", ar: "ÿ£ÿ¥ÿ± ÿ®ÿ•ÿµÿ®ÿπ Ÿàÿßÿ≠ÿØ ÿ•ŸÑŸâ ŸÖŸÉÿßŸÜ ÿßŸÑÿ£ŸÑŸÖ ÿßŸÑÿ£ŸÉÿ´ÿ± ÿ¥ÿØÿ©.", fa: "ÿ®ÿß €å⁄© ÿßŸÜ⁄Øÿ¥ÿ™ ŸÜÿ¥ÿßŸÜ ÿØŸá€åÿØ ⁄©ÿ¨ÿß ÿ®€åÿ¥ÿ™ÿ± ÿØÿ±ÿØ ŸÖ€å ⁄©ŸÜÿØ.", tr: "En √ßok nerenin aƒürƒ±dƒ±ƒüƒ±nƒ± tek parmaƒüƒ±nƒ±zla g√∂sterin.", ru: "–ü–æ–∫–∞–∂–∏—Ç–µ –æ–¥–Ω–∏–º –ø–∞–ª—å—Ü–µ–º, –≥–¥–µ –±–æ–ª–∏—Ç —Å–∏–ª—å–Ω–µ–µ –≤—Å–µ–≥–æ.", uk: "–ü–æ–∫–∞–∂—ñ—Ç—å –æ–¥–Ω–∏–º –ø–∞–ª—å—Ü–µ–º, –¥–µ –±–æ–ª–∏—Ç—å –Ω–∞–π–±—ñ–ª—å—à–µ.", pl: "Proszƒô pokazaƒá jednym palcem, gdzie najbardziej boli.", ro: "ArƒÉta»õi cu un deget unde doare cel mai tare." },
            { cat: "2. Schmerzanamnese", tags: ["seit wann", "beginn", "zeit"], de: "Seit wann haben Sie diese Schmerzen?", en: "Since when have you had this pain?", ar: "ŸÖŸÜÿ∞ ŸÖÿ™Ÿâ ÿ™ÿπÿßŸÜŸä ŸÖŸÜ Ÿáÿ∞ÿß ÿßŸÑÿ£ŸÑŸÖÿü", fa: "ÿßÿ≤ ⁄©€å ÿß€åŸÜ ÿØÿ±ÿØ ÿ±ÿß ÿØÿßÿ±€åÿØÿü", tr: "Bu aƒürƒ± ne zamandan beri var?", ru: "–ö–∞–∫ –¥–∞–≤–Ω–æ —É –≤–∞—Å —ç—Ç–∞ –±–æ–ª—å?", uk: "–Ø–∫ –¥–∞–≤–Ω–æ —É –≤–∞—Å —Ü–µ–π –±—ñ–ª—å?", pl: "Od kiedy ma pan/pani ten b√≥l?", ro: "De c√¢nd ave»õi aceste dureri?" },
            { cat: "2. Schmerzanamnese", tags: ["ausstrahlung", "ziehen", "arm", "r√ºcken"], de: "Strahlt der Schmerz in den Arm, R√ºcken oder Bauch aus?", en: "Does the pain radiate to your arm, back, or stomach?", ar: "ŸáŸÑ ŸäŸÖÿ™ÿØ ÿßŸÑÿ£ŸÑŸÖ ÿ•ŸÑŸâ ÿ∞ÿ±ÿßÿπŸÉ ÿ£Ÿà ÿ∏Ÿáÿ±ŸÉ ÿ£Ÿà ŸÖÿπÿØÿ™ŸÉÿü", fa: "ÿ¢€åÿß ÿØÿ±ÿØ ÿ®Ÿá ÿ®ÿßÿ≤Ÿàÿå Ÿæÿ¥ÿ™ €åÿß ÿ¥⁄©ŸÖ ŸÖ€å ÿ≤ŸÜÿØÿü", tr: "Aƒürƒ± kolunuza, sƒ±rtƒ±nƒ±za veya karnƒ±nƒ±za yayƒ±lƒ±yor mu?", ru: "–û—Ç–¥–∞–µ—Ç –ª–∏ –±–æ–ª—å –≤ —Ä—É–∫—É, —Å–ø–∏–Ω—É –∏–ª–∏ –∂–∏–≤–æ—Ç?", uk: "–ß–∏ –≤—ñ–¥–¥–∞—î –±—ñ–ª—å —É —Ä—É–∫—É, —Å–ø–∏–Ω—É –∞–±–æ –∂–∏–≤—ñ—Ç?", pl: "Czy b√≥l promieniuje do ramienia, plec√≥w lub brzucha?", ro: "Durerea radiazƒÉ √Æn bra»õ, spate sau stomac?" },
            { cat: "2. Schmerzanamnese", tags: ["skala", "1-10", "stark"], de: "Auf einer Skala von 0 (kein Schmerz) bis 10 (st√§rkster Schmerz), wie stark ist es?", en: "On a scale from 0 to 10, how bad is the pain?", ar: "ÿπŸÑŸâ ŸÖŸÇŸäÿßÿ≥ ŸÖŸÜ 0 ÿ•ŸÑŸâ 10ÿå ŸÖÿß ŸÖÿØŸâ ÿ¥ÿØÿ© ÿßŸÑÿ£ŸÑŸÖÿü", fa: "ÿØÿ± ŸÖŸÇ€åÿßÿ≥ 0 ÿ™ÿß 10ÿå ÿØÿ±ÿØ ⁄ÜŸÇÿØÿ± ÿ¥ÿØ€åÿØ ÿßÿ≥ÿ™ÿü", tr: "0 ile 10 arasƒ± bir √∂l√ßekte aƒürƒ±nƒ±z ne kadar ≈üiddetli?", ru: "–ü–æ —à–∫–∞–ª–µ –æ—Ç 0 –¥–æ 10, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–∞—è –±–æ–ª—å?", uk: "–ó–∞ —à–∫–∞–ª–æ—é –≤—ñ–¥ 0 –¥–æ 10, –Ω–∞—Å–∫—ñ–ª—å–∫–∏ —Å–∏–ª—å–Ω–∏–π –±—ñ–ª—å?", pl: "W skali od 0 do 10, jak silny jest b√≥l?", ro: "Pe o scarƒÉ de la 0 la 10, c√¢t de puternicƒÉ este durerea?" },
            { cat: "2. Schmerzanamnese", tags: ["dumpf", "stechend", "brennend"], de: "Ist der Schmerz dumpf, stechend oder brennend?", en: "Is the pain dull, sharp, or burning?", ar: "ŸáŸÑ ÿßŸÑÿ£ŸÑŸÖ ÿÆŸÅŸäŸÅ ÿ£ŸÖ ÿ≠ÿßÿØ ÿ£ŸÖ ÿ≠ÿßÿ±ŸÇÿü", fa: "ÿ¢€åÿß ÿØÿ±ÿØ ŸÖÿ®ŸáŸÖÿå ÿ™€åÿ≤ €åÿß ÿ≥Ÿàÿ≤ŸÜÿß⁄© ÿßÿ≥ÿ™ÿü", tr: "Aƒürƒ± k√ºnt, keskin veya yanƒ±cƒ± mƒ±?", ru: "–ë–æ–ª—å —Ç—É–ø–∞—è, –æ—Å—Ç—Ä–∞—è –∏–ª–∏ –∂–≥—É—á–∞—è?", uk: "–ë—ñ–ª—å —Ç—É–ø–∏–π, –≥–æ—Å—Ç—Ä–∏–π —á–∏ –ø–µ–∫—É—á–∏–π?", pl: "Czy b√≥l jest tƒôpy, k≈ÇujƒÖcy czy piekƒÖcy?", ro: "Durerea este surdƒÉ, ascu»õitƒÉ sau arzƒÉtoare?" },
            { cat: "2. Schmerzanamnese", tags: ["dauerhaft", "wellen"], de: "Ist der Schmerz dauerhaft da oder kommt er in Wellen?", en: "Is the pain constant or does it come in waves?", ar: "ŸáŸÑ ÿßŸÑÿ£ŸÑŸÖ ŸÖÿ≥ÿ™ŸÖÿ± ÿ£ŸÖ Ÿäÿ£ÿ™Ÿä ÿπŸÑŸâ ÿ¥ŸÉŸÑ ŸÖŸàÿ¨ÿßÿ™ÿü", fa: "ÿ¢€åÿß ÿØÿ±ÿØ ŸÖÿØÿßŸàŸÖ ÿßÿ≥ÿ™ €åÿß ŸÖŸàÿ¨€å ŸÖ€å ÿ¢€åÿØÿü", tr: "Aƒürƒ± s√ºrekli mi yoksa dalgalar halinde mi geliyor?", ru: "–ë–æ–ª—å –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –∏–ª–∏ –Ω–∞–∫–∞—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–Ω–∞–º–∏?", uk: "–ë—ñ–ª—å –ø–æ—Å—Ç—ñ–π–Ω–∏–π —á–∏ –Ω–∞–∫–æ—á—É—î —Ö–≤–∏–ª—è–º–∏?", pl: "Czy b√≥l jest ciƒÖg≈Çy, czy przychodzi falami?", ro: "Durerea este constantƒÉ sau vine √Æn valuri?" },
            { cat: "2. Schmerzanamnese", tags: ["besser", "schlechter"], de: "Wird der Schmerz bei Bewegung oder beim Atmen schlimmer?", en: "Does the pain get worse with movement or breathing?", ar: "ŸáŸÑ Ÿäÿ≤ÿØÿßÿØ ÿßŸÑÿ£ŸÑŸÖ ÿ≥Ÿàÿ°ÿßŸã ŸÖÿπ ÿßŸÑÿ≠ÿ±ŸÉÿ© ÿ£Ÿà ÿßŸÑÿ™ŸÜŸÅÿ≥ÿü", fa: "ÿ¢€åÿß ÿØÿ±ÿØ ÿ®ÿß ÿ≠ÿ±⁄©ÿ™ €åÿß ÿ™ŸÜŸÅÿ≥ ÿ®ÿØÿ™ÿ± ŸÖ€å ÿ¥ŸàÿØÿü", tr: "Hareket edince veya nefes alƒ±rken aƒürƒ± artƒ±yor mu?", ru: "–ë–æ–ª—å —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –∏–ª–∏ –¥—ã—Ö–∞–Ω–∏–∏?", uk: "–ß–∏ –ø–æ—Å–∏–ª—é—î—Ç—å—Å—è –±—ñ–ª—å –ø—Ä–∏ —Ä—É—Å—ñ –∞–±–æ –¥–∏—Ö–∞–Ω–Ω—ñ?", pl: "Czy b√≥l nasila siƒô przy ruchu lub oddychaniu?", ro: "Durerea se agraveazƒÉ la mi»ôcare sau respira»õie?" },

            // --- 3. ATEMWEGE & HERZ (Thorax) ---
            { cat: "3. Atemwege & Herz", tags: ["atemnot", "luft", "atmen"], de: "Haben Sie Atemnot oder das Gef√ºhl, keine Luft zu bekommen?", en: "Do you have shortness of breath or feel like you can't get air?", ar: "ŸáŸÑ ÿ™ÿπÿßŸÜŸä ŸÖŸÜ ÿ∂ŸäŸÇ ŸÅŸä ÿßŸÑÿ™ŸÜŸÅÿ≥ÿü", fa: "ÿ¢€åÿß ÿ™ŸÜ⁄Ø€å ŸÜŸÅÿ≥ ÿØÿßÿ±€åÿØÿü", tr: "Nefes darlƒ±ƒüƒ±nƒ±z var mƒ±?", ru: "–í–∞–º —Ç—Ä—É–¥–Ω–æ –¥—ã—à–∞—Ç—å?", uk: "–í–∞–º –≤–∞–∂–∫–æ –¥–∏—Ö–∞—Ç–∏?", pl: "Czy ma pan/pani duszno≈õci?", ro: "Ave»õi dificultƒÉ»õi de respira»õie?" },
            { cat: "3. Atemwege & Herz", tags: ["brustschmerz", "druck", "herz"], de: "Sp√ºren Sie einen Druck oder Engegef√ºhl in der Brust?", en: "Do you feel pressure or tightness in your chest?", ar: "ŸáŸÑ ÿ™ÿ¥ÿπÿ± ÿ®ÿ∂ÿ∫ÿ∑ ÿ£Ÿà ÿ∂ŸäŸÇ ŸÅŸä ÿµÿØÿ±ŸÉÿü", fa: "ÿ¢€åÿß ÿØÿ± ŸÇŸÅÿ≥Ÿá ÿ≥€åŸÜŸá ÿßÿ≠ÿ≥ÿßÿ≥ ŸÅÿ¥ÿßÿ± €åÿß ÿ™ŸÜ⁄Ø€å ŸÖ€å ⁄©ŸÜ€åÿØÿü", tr: "G√∂ƒüs√ºn√ºzde baskƒ± veya sƒ±kƒ±≈üma hissediyor musunuz?", ru: "–í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –¥–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —Å—Ç–µ—Å–Ω–µ–Ω–∏–µ –≤ –≥—Ä—É–¥–∏?", uk: "–í–∏ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ —Ç–∏—Å–∫ –∞–±–æ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è –≤ –≥—Ä—É–¥—è—Ö?", pl: "Czy czuje pan/pani ucisk lub ciasnotƒô w klatce piersiowej?", ro: "Sim»õi»õi presiune sau o str√¢ngere √Æn piept?" },
            { cat: "3. Atemwege & Herz", tags: ["herzrasen", "puls", "schnell"], de: "Haben Sie Herzrasen oder Herzstolpern?", en: "Do you have a rapid or irregular heartbeat?", ar: "ŸáŸÑ ÿ™ÿπÿßŸÜŸä ŸÖŸÜ ÿ≥ÿ±ÿπÿ© ÿ£Ÿà ÿπÿØŸÖ ÿßŸÜÿ™ÿ∏ÿßŸÖ ÿ∂ÿ±ÿ®ÿßÿ™ ÿßŸÑŸÇŸÑÿ®ÿü", fa: "ÿ¢€åÿß ÿ™Ÿæÿ¥ ŸÇŸÑÿ® ÿ≥ÿ±€åÿπ €åÿß ŸÜÿßŸÖŸÜÿ∏ŸÖ ÿØÿßÿ±€åÿØÿü", tr: "√áarpƒ±ntƒ±nƒ±z veya d√ºzensiz kalp atƒ±≈üƒ±nƒ±z var mƒ±?", ru: "–£ –≤–∞—Å —É—á–∞—â–µ–Ω–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–µ–±–æ–∏ –≤ —Ä–∞–±–æ—Ç–µ —Å–µ—Ä–¥—Ü–∞?", uk: "–£ –≤–∞—Å –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–µ —Å–µ—Ä—Ü–µ–±–∏—Ç—Ç—è –∞–±–æ –ø–µ—Ä–µ–±–æ—ó –≤ —Ä–æ–±–æ—Ç—ñ —Å–µ—Ä—Ü—è?", pl: "Czy ma pan/pani ko≈Çatanie serca?", ro: "Ave»õi palpita»õii sau bƒÉtƒÉi neregulate ale inimii?" },
            { cat: "3. Atemwege & Herz", tags: ["husten", "auswurf", "blut"], de: "Haben Sie Husten? Kommt beim Husten Schleim oder Blut?", en: "Do you have a cough? Are you coughing up phlegm or blood?", ar: "ŸáŸÑ ÿ™ÿπÿßŸÜŸä ŸÖŸÜ ÿ≥ÿπÿßŸÑÿü ŸáŸÑ ÿ™ÿ≥ÿπŸÑ ÿ®ŸÑÿ∫ŸÖÿßŸã ÿ£Ÿà ÿØŸÖÿßŸãÿü", fa: "ÿ¢€åÿß ÿ≥ÿ±ŸÅŸá ŸÖ€å ⁄©ŸÜ€åÿØÿü ÿ¢€åÿß ÿÆŸÑÿ∑ €åÿß ÿÆŸàŸÜ ÿ®ÿßŸÑÿß ŸÖ€å ÿ¢Ÿàÿ±€åÿØÿü", tr: "√ñks√ºr√ºƒü√ºn√ºz var mƒ±? √ñks√ºr√ºrken balgam veya kan geliyor mu?", ru: "–£ –≤–∞—Å –µ—Å—Ç—å –∫–∞—à–µ–ª—å? –í—ã –æ—Ç–∫–∞—à–ª–∏–≤–∞–µ—Ç–µ –º–æ–∫—Ä–æ—Ç—É –∏–ª–∏ –∫—Ä–æ–≤—å?", uk: "–£ –≤–∞—Å —î –∫–∞—à–µ–ª—å? –í–∏ –≤—ñ–¥–∫–∞—à–ª—é—î—Ç–µ –º–æ–∫—Ä–æ—Ç–∏–Ω–Ω—è –∞–±–æ –∫—Ä–æ–≤?", pl: "Czy pan/pani kaszle? Czy odkrztusza flegmƒô lub krew?", ro: "Tu»ôi»õi? Elimina»õi flegmƒÉ sau s√¢nge?" },

            // --- 4. NEUROLOGIE & KOPF ---
            { cat: "4. Neurologie & Kopf", tags: ["schwindel", "drehen", "kopf"], de: "Ist Ihnen schwindelig? Dreht sich alles?", en: "Do you feel dizzy? Is everything spinning?", ar: "ŸáŸÑ ÿ™ÿ¥ÿπÿ± ÿ®ÿßŸÑÿØŸàÿßÿ±ÿü ŸáŸÑ ŸäÿØŸàÿ± ŸÉŸÑ ÿ¥Ÿäÿ°ÿü", fa: "ÿ¢€åÿß ÿ≥ÿ±⁄Ø€åÿ¨Ÿá ÿØÿßÿ±€åÿØÿü ÿ¢€åÿß ŸáŸÖŸá ⁄Ü€åÿ≤ ŸÖ€å ⁄Üÿ±ÿÆÿØÿü", tr: "Ba≈üƒ±nƒ±z d√∂n√ºyor mu? Her ≈üey etrafƒ±nƒ±zda d√∂n√ºyor mu?", ru: "–£ –≤–∞—Å –∫—Ä—É–∂–∏—Ç—Å—è –≥–æ–ª–æ–≤–∞? –í—Å–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è?", uk: "–£ –≤–∞—Å –ø–∞–º–æ—Ä–æ—á–∏—Ç—å—Å—è –≥–æ–ª–æ–≤–∞? –í—Å–µ –∫—Ä—É—Ç–∏—Ç—å—Å—è?", pl: "Czy krƒôci siƒô w g≈Çowie? Czy wszystko wiruje?", ro: "Sunte»õi ame»õit? Totul se √Ænv√¢rte?" },
            { cat: "4. Neurologie & Kopf", tags: ["ohnmacht", "bewusstlos", "umgekippt"], de: "Waren Sie bewusstlos oder sind Sie umgekippt?", en: "Did you lose consciousness or pass out?", ar: "ŸáŸÑ ŸÅŸÇÿØÿ™ ÿßŸÑŸàÿπŸä ÿ£Ÿà ÿ£ÿ∫ŸÖŸä ÿπŸÑŸäŸÉÿü", fa: "ÿ¢€åÿß ÿ®€åŸáŸàÿ¥ ÿ¥ÿØ€åÿØ €åÿß ÿ∫ÿ¥ ⁄©ÿ±ÿØ€åÿØÿü", tr: "Bilincinizi kaybettiniz mi veya bayƒ±ldƒ±nƒ±z mƒ±?", ru: "–í—ã —Ç–µ—Ä—è–ª–∏ —Å–æ–∑–Ω–∞–Ω–∏–µ –∏–ª–∏ –ø–∞–¥–∞–ª–∏ –≤ –æ–±–º–æ—Ä–æ–∫?", uk: "–í–∏ –≤—Ç—Ä–∞—á–∞–ª–∏ —Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å –∞–±–æ –Ω–µ–ø—Ä–∏—Ç–æ–º–Ω—ñ–ª–∏?", pl: "Czy straci≈Ç(a) pan/pani przytomno≈õƒá?", ro: "A»õi le»ôinat sau v-a»õi pierdut cuno»ôtin»õa?" },
            { cat: "4. Neurologie & Kopf", tags: ["sehen", "augen", "doppelt"], de: "Haben Sie Probleme beim Sehen? Sehen Sie doppelt?", en: "Do you have trouble seeing? Are you seeing double?", ar: "ŸáŸÑ ÿ™ÿ¨ÿØ ÿµÿπŸàÿ®ÿ© ŸÅŸä ÿßŸÑÿ±ÿ§Ÿäÿ©ÿü ŸáŸÑ ÿ™ÿ±Ÿâ ÿßŸÑÿ£ÿ¥Ÿäÿßÿ° ŸÖÿ≤ÿØŸàÿ¨ÿ©ÿü", fa: "ÿ¢€åÿß ŸÖÿ¥⁄©ŸÑ ÿ®€åŸÜÿß€å€å ÿØÿßÿ±€åÿØÿü ÿ¢€åÿß ÿØŸà⁄ØÿßŸÜŸá ŸÖ€å ÿ®€åŸÜ€åÿØÿü", tr: "G√∂rme sorununuz var mƒ±? √áift mi g√∂r√ºyorsunuz?", ru: "–£ –≤–∞—Å –ø—Ä–æ–±–ª–µ–º—ã —Å–æ –∑—Ä–µ–Ω–∏–µ–º? –í—ã –≤–∏–¥–∏—Ç–µ –≤–¥–≤–æ–π–Ω–µ?", uk: "–£ –≤–∞—Å –ø—Ä–æ–±–ª–µ–º–∏ —ñ–∑ –∑–æ—Ä–æ–º? –í–∏ –±–∞—á–∏—Ç–µ –ø–æ–¥–≤—ñ–π–Ω–æ?", pl: "Czy ma pan/pani problemy z widzeniem? Czy widzi pan/pani podw√≥jnie?", ro: "Ave»õi probleme de vedere? Vede»õi dublu?" },
            { cat: "4. Neurologie & Kopf", tags: ["taub", "kribbeln", "l√§hmung", "arm", "bein"], de: "Haben Sie Taubheitsgef√ºhle, Kribbeln oder L√§hmungen in Armen oder Beinen?", en: "Do you have numbness, tingling, or paralysis in your arms or legs?", ar: "ŸáŸÑ ÿ™ÿ¥ÿπÿ± ÿ®ÿÆÿØÿ± ÿ£Ÿà ÿ™ŸÜŸÖŸäŸÑ ÿ£Ÿà ÿ¥ŸÑŸÑ ŸÅŸä ÿ∞ÿ±ÿßÿπŸäŸÉ ÿ£Ÿà ÿ≥ÿßŸÇŸäŸÉÿü", fa: "ÿ¢€åÿß ÿØÿ± ÿØÿ≥ÿ™ €åÿß Ÿæÿß ÿßÿ≠ÿ≥ÿßÿ≥ ÿ®€å ÿ≠ÿ≥€åÿå ⁄Øÿ≤⁄Øÿ≤ €åÿß ŸÅŸÑÿ¨€å ÿØÿßÿ±€åÿØÿü", tr: "Kollarƒ±nƒ±zda veya bacaklarƒ±nƒ±zda uyu≈üma, karƒ±ncalanma veya fel√ß hissi var mƒ±?", ru: "–ï—Å—Ç—å –ª–∏ –æ–Ω–µ–º–µ–Ω–∏–µ, –ø–æ–∫–∞–ª—ã–≤–∞–Ω–∏–µ –∏–ª–∏ —Å–ª–∞–±–æ—Å—Ç—å –≤ —Ä—É–∫–∞—Ö –∏–ª–∏ –Ω–æ–≥–∞—Ö?", uk: "–Ñ –æ–Ω—ñ–º—ñ–Ω–Ω—è, –ø–æ–∫–æ–ª—é–≤–∞–Ω–Ω—è –∞–±–æ —Å–ª–∞–±–∫—ñ—Å—Ç—å –≤ —Ä—É–∫–∞—Ö —á–∏ –Ω–æ–≥–∞—Ö?", pl: "Czy czuje pan/pani drƒôtwienie, mrowienie lub parali≈º rƒÖk lub n√≥g?", ro: "Ave»õi amor»õealƒÉ, furnicƒÉturi sau paralizie la bra»õe sau picioare?" },
            { cat: "4. Neurologie & Kopf", tags: ["sprechen", "sprache", "verstehen"], de: "F√§llt Ihnen das Sprechen schwer?", en: "Is it difficult for you to speak?", ar: "ŸáŸÑ ÿ™ÿ¨ÿØ ÿµÿπŸàÿ®ÿ© ŸÅŸä ÿßŸÑÿ™ÿ≠ÿØÿ´ÿü", fa: "ÿ¢€åÿß ÿµÿ≠ÿ®ÿ™ ⁄©ÿ±ÿØŸÜ ÿ®ÿ±ÿß€åÿ™ÿßŸÜ ÿ≥ÿÆÿ™ ÿßÿ≥ÿ™ÿü", tr: "Konu≈ümakta zorlanƒ±yor musunuz?", ru: "–í–∞–º —Ç—Ä—É–¥–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å?", uk: "–í–∞–º –≤–∞–∂–∫–æ —Ä–æ–∑–º–æ–≤–ª—è—Ç–∏?", pl: "Czy ma pan/pani trudno≈õci z m√≥wieniem?", ro: "VƒÉ este greu sƒÉ vorbi»õi?" },

            // --- 5. GASTRO & ABDOMEN ---
            { cat: "5. Magen & Darm", tags: ["√ºbel", "erbrechen", "kotzen"], de: "Ist Ihnen √ºbel oder haben Sie erbrochen?", en: "Are you nauseous or have you vomited?", ar: "ŸáŸÑ ÿ™ÿ¥ÿπÿ± ÿ®ÿßŸÑÿ∫ÿ´ŸäÿßŸÜ ÿ£Ÿà ŸáŸÑ ÿ™ŸÇŸäÿ£ÿ™ÿü", fa: "ÿ¢€åÿß ÿ≠ÿßŸÑÿ™ ÿ™ŸáŸàÿπ ÿØÿßÿ±€åÿØ €åÿß ÿßÿ≥ÿ™ŸÅÿ±ÿßÿ∫ ⁄©ÿ±ÿØŸá ÿß€åÿØÿü", tr: "Mideniz mi bulanƒ±yor veya kustunuz mu?", ru: "–í–∞—Å —Ç–æ—à–Ω–∏—Ç –∏–ª–∏ –≤—ã —Ä–≤–∞–ª–∏?", uk: "–í–∞—Å –Ω—É–¥–∏—Ç—å –∞–±–æ –≤–∏ –±–ª—é–≤–∞–ª–∏?", pl: "Czy ma pan/pani md≈Ço≈õci lub wymioty?", ro: "VƒÉ este grea»õƒÉ sau a»õi vomitat?" },
            { cat: "5. Magen & Darm", tags: ["durchfall", "stuhl", "blut"], de: "Haben Sie Durchfall? War Blut im Stuhl oder Erbrochenen?", en: "Do you have diarrhea? Was there blood in your stool or vomit?", ar: "ŸáŸÑ ÿ™ÿπÿßŸÜŸä ŸÖŸÜ ÿßŸÑÿ•ÿ≥ŸáÿßŸÑÿü ŸáŸÑ ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿØŸÖ ŸÅŸä ÿßŸÑÿ®ÿ±ÿßÿ≤ ÿ£Ÿà ÿßŸÑŸÇŸäÿ°ÿü", fa: "ÿ¢€åÿß ÿßÿ≥ŸáÿßŸÑ ÿØÿßÿ±€åÿØÿü ÿ¢€åÿß ÿØÿ± ŸÖÿØŸÅŸàÿπ €åÿß ÿßÿ≥ÿ™ŸÅÿ±ÿßÿ∫ ÿÆŸàŸÜ ÿ®ŸàÿØÿü", tr: "ƒ∞shaliniz var mƒ±? Dƒ±≈ükƒ±nƒ±zda veya kusmuƒüunuzda kan var mƒ±ydƒ±?", ru: "–£ –≤–∞—Å –µ—Å—Ç—å –¥–∏–∞—Ä–µ—è? –ë—ã–ª–∞ –ª–∏ –∫—Ä–æ–≤—å –≤ —Å—Ç—É–ª–µ –∏–ª–∏ —Ä–≤–æ—Ç–µ?", uk: "–£ –≤–∞—Å —î –¥—ñ–∞—Ä–µ—è? –ß–∏ –±—É–ª–∞ –∫—Ä–æ–≤ —É –∫–∞–ª—ñ –∞–±–æ –±–ª—é–≤–æ—Ç—ñ?", pl: "Czy ma pan/pani biegunkƒô? Czy we krwi lub wymiotach by≈Ça krew?", ro: "Ave»õi diaree? A fost s√¢nge √Æn scaun sau vƒÉrsƒÉturi?" },
            { cat: "5. Magen & Darm", tags: ["stuhlgang", "toilette"], de: "Wann hatten Sie den letzten Stuhlgang?", en: "When was your last bowel movement?", ar: "ŸÖÿ™Ÿâ ŸÉÿßŸÜÿ™ ÿ¢ÿÆÿ± ÿ≠ÿ±ŸÉÿ© ÿ£ŸÖÿπÿßÿ° ŸÑŸÉÿü", fa: "ÿ¢ÿÆÿ±€åŸÜ ÿ®ÿßÿ± ⁄©€å ÿßÿ¨ÿßÿ®ÿ™ ŸÖÿ≤ÿßÿ¨ ÿØÿßÿ¥ÿ™€åÿØÿü", tr: "En son ne zaman b√ºy√ºk tuvaletinize √ßƒ±ktƒ±nƒ±z?", ru: "–ö–æ–≥–¥–∞ —É –≤–∞—Å –±—ã–ª –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å—Ç—É–ª?", uk: "–ö–æ–ª–∏ —É –≤–∞—Å –±—É–≤ –æ—Å—Ç–∞–Ω–Ω—ñ–π —Å—Ç—ñ–ª–µ—Ü—å?", pl: "Kiedy pan/pani ostatnio siƒô wypr√≥≈ºnia≈Ç(a)?", ro: "C√¢nd a»õi avut ultimul scaun?" },
            { cat: "5. Magen & Darm", tags: ["bauch", "hart", "schmerz"], de: "Wo genau tut der Bauch weh? Oben, unten, rechts oder links?", en: "Where exactly does your stomach hurt? Top, bottom, right, or left?", ar: "ÿ£ŸäŸÜ Ÿäÿ§ŸÑŸÖŸÉ ÿ®ÿ∑ŸÜŸÉ ÿ®ÿßŸÑÿ∂ÿ®ÿ∑ÿü ŸÅŸä ÿßŸÑÿ£ÿπŸÑŸâÿå ÿßŸÑÿ£ÿ≥ŸÅŸÑÿå ÿßŸÑŸäŸÖŸäŸÜÿå ÿ£ŸÖ ÿßŸÑŸäÿ≥ÿßÿ±ÿü", fa: "ÿØŸÇ€åŸÇÿßŸã ⁄©ÿ¨ÿß€å ÿ¥⁄©ŸÖ ÿØÿ±ÿØ ŸÖ€å ⁄©ŸÜÿØÿü ÿ®ÿßŸÑÿßÿå Ÿæÿß€å€åŸÜÿå ÿ±ÿßÿ≥ÿ™ €åÿß ⁄ÜŸæÿü", tr: "Karnƒ±nƒ±z tam olarak neresi aƒürƒ±yor? √úst, alt, saƒü veya sol?", ru: "–ì–¥–µ –∏–º–µ–Ω–Ω–æ –±–æ–ª–∏—Ç –∂–∏–≤–æ—Ç? –°–≤–µ—Ä—Ö—É, —Å–Ω–∏–∑—É, —Å–ø—Ä–∞–≤–∞ –∏–ª–∏ —Å–ª–µ–≤–∞?", uk: "–î–µ —Å–∞–º–µ –±–æ–ª–∏—Ç—å –∂–∏–≤—ñ—Ç? –ó–≤–µ—Ä—Ö—É, –∑–Ω–∏–∑—É, –ø—Ä–∞–≤–æ—Ä—É—á —á–∏ –ª—ñ–≤–æ—Ä—É—á?", pl: "Gdzie dok≈Çadnie boli brzuch? Na g√≥rze, na dole, po prawej czy po lewej?", ro: "Unde anume vƒÉ doare burta? Sus, jos, la dreapta sau la st√¢nga?" },

            // --- 6. UNFALL & TRAUMA ---
            { cat: "6. Unfall & Verletzung", tags: ["sturz", "unfall", "gefallen"], de: "Sind Sie gest√ºrzt oder hatten Sie einen Unfall?", en: "Did you fall or have an accident?", ar: "ŸáŸÑ ÿ≥ŸÇÿ∑ÿ™ ÿ£Ÿà ÿ™ÿπÿ±ÿ∂ÿ™ ŸÑÿ≠ÿßÿØÿ´ÿü", fa: "ÿ¢€åÿß ÿ≤ŸÖ€åŸÜ ÿÆŸàÿ±ÿØ€åÿØ €åÿß ÿ™ÿµÿßÿØŸÅ ⁄©ÿ±ÿØ€åÿØÿü", tr: "D√º≈üt√ºn√ºz m√º veya bir kaza mƒ± ge√ßirdiniz?", ru: "–í—ã —É–ø–∞–ª–∏ –∏–ª–∏ –ø–æ–ø–∞–ª–∏ –≤ –∞–≤–∞—Ä–∏—é?", uk: "–í–∏ –≤–ø–∞–ª–∏ –∞–±–æ –ø–æ—Ç—Ä–∞–ø–∏–ª–∏ –≤ –∞–≤–∞—Ä—ñ—é?", pl: "Czy pan/pani upad≈Ç(a) lub mia≈Ç(a) wypadek?", ro: "A»õi cƒÉzut sau a»õi avut un accident?" },
            { cat: "6. Unfall & Verletzung", tags: ["kopf", "angeschlagen"], de: "Haben Sie sich den Kopf angeschlagen?", en: "Did you hit your head?", ar: "ŸáŸÑ ÿ∂ÿ±ÿ®ÿ™ ÿ±ÿ£ÿ≥ŸÉÿü", fa: "ÿ¢€åÿß ÿ≥ÿ±ÿ™ÿßŸÜ ÿ®Ÿá ÿ¨ÿß€å€å ÿÆŸàÿ±ÿØÿü", tr: "Kafanƒ±zƒ± bir yere √ßarptƒ±nƒ±z mƒ±?", ru: "–í—ã —É–¥–∞—Ä–∏–ª–∏—Å—å –≥–æ–ª–æ–≤–æ–π?", uk: "–í–∏ –≤–¥–∞—Ä–∏–ª–∏—Å—è –≥–æ–ª–æ–≤–æ—é?", pl: "Czy uderzy≈Ç(a) siƒô pan/pani w g≈Çowƒô?", ro: "V-a»õi lovit la cap?" },
            { cat: "6. Unfall & Verletzung", tags: ["blutung", "wunde", "schnitt"], de: "Haben Sie blutende Wunden?", en: "Do you have any bleeding wounds?", ar: "ŸáŸÑ ŸÑÿØŸäŸÉ ÿ£Ÿä ÿ¨ÿ±Ÿàÿ≠ ÿ™ŸÜÿ≤ŸÅÿü", fa: "ÿ¢€åÿß ÿ≤ÿÆŸÖ ÿÆŸàŸÜÿ±€åÿ≤€å ÿØŸáŸÜÿØŸá ÿØÿßÿ±€åÿØÿü", tr: "Kanayan yaranƒ±z var mƒ±?", ru: "–£ –≤–∞—Å –µ—Å—Ç—å –∫—Ä–æ–≤–æ—Ç–æ—á–∞—â–∏–µ —Ä–∞–Ω—ã?", uk: "–£ –≤–∞—Å —î —Ä–∞–Ω–∏, —â–æ –∫—Ä–æ–≤–æ—Ç–æ—á–∞—Ç—å?", pl: "Czy ma pan/pani krwawiƒÖce rany?", ro: "Ave»õi rƒÉni care s√¢ngereazƒÉ?" },
            { cat: "6. Unfall & Verletzung", tags: ["tetanus", "impfung"], de: "Wann war Ihre letzte Tetanus-Impfung?", en: "When was your last tetanus shot?", ar: "ŸÖÿ™Ÿâ ŸÉÿßŸÜÿ™ ÿ¢ÿÆÿ± ÿ≠ŸÇŸÜÿ© ÿ™Ÿäÿ™ÿßŸÜŸàÿ≥ ŸÑŸÉÿü", fa: "ÿ¢ÿÆÿ±€åŸÜ Ÿàÿß⁄©ÿ≥ŸÜ ⁄©ÿ≤ÿßÿ≤ ÿ¥ŸÖÿß ⁄©€å ÿ®ŸàÿØÿü", tr: "Son tetanos a≈üƒ±nƒ±z ne zamandƒ±?", ru: "–ö–æ–≥–¥–∞ –≤–∞–º –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –¥–µ–ª–∞–ª–∏ –ø—Ä–∏–≤–∏–≤–∫—É –æ—Ç —Å—Ç–æ–ª–±–Ω—è–∫–∞?", uk: "–ö–æ–ª–∏ –≤–∞–º –≤–æ—Å—Ç–∞–Ω–Ω—î —Ä–æ–±–∏–ª–∏ —â–µ–ø–ª–µ–Ω–Ω—è –≤—ñ–¥ –ø—Ä–∞–≤—Ü—è?", pl: "Kiedy by≈Ço ostatnie szczepienie na tƒô≈ºec?", ro: "C√¢nd a»õi fƒÉcut ultimul vaccin antitetanos?" },

            // --- 7. VORGESCHICHTE (SAMPLER) ---
            { cat: "7. Vorgeschichte & Medikamente", tags: ["allergie", "medikamente"], de: "Haben Sie Allergien gegen Medikamente, Pflaster oder Kontrastmittel?", en: "Are you allergic to any medications, plasters, or contrast dye?", ar: "ŸáŸÑ ŸÑÿØŸäŸÉ ÿ≠ÿ≥ÿßÿ≥Ÿäÿ© ÿ™ÿ¨ÿßŸá ÿßŸÑÿ£ÿØŸàŸäÿ© ÿ£Ÿà ÿßŸÑŸÑÿßÿµŸÇ ÿßŸÑÿ∑ÿ®Ÿä ÿ£Ÿà ÿµÿ®ÿ∫ÿ© ÿßŸÑÿ™ÿ®ÿßŸäŸÜÿü", fa: "ÿ¢€åÿß ÿ®Ÿá ÿØÿßÿ±Ÿàÿå ⁄Üÿ≥ÿ® ÿ≤ÿÆŸÖ €åÿß ŸÖÿßÿØŸá ÿ≠ÿßÿ¨ÿ® ÿ≠ÿ≥ÿßÿ≥€åÿ™ ÿØÿßÿ±€åÿØÿü", tr: "ƒ∞la√ßlara, yara bantlarƒ±na veya kontrast maddeye alerjiniz var mƒ±?", ru: "–£ –≤–∞—Å –µ—Å—Ç—å –∞–ª–ª–µ—Ä–≥–∏—è –Ω–∞ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞, –ø–ª–∞—Å—Ç—ã—Ä–∏ –∏–ª–∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–µ –≤–µ—â–µ—Å—Ç–≤–æ?", uk: "–£ –≤–∞—Å —î –∞–ª–µ—Ä–≥—ñ—è –Ω–∞ –ª—ñ–∫–∏, –ø–ª–∞—Å—Ç–∏—Ä—ñ –∞–±–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—É —Ä–µ—á–æ–≤–∏–Ω—É?", pl: "Czy ma pan/pani uczulenie na leki, plastry lub kontrast?", ro: "Ave»õi alergii la medicamente, plasturi sau substan»õƒÉ de contrast?" },
            { cat: "7. Vorgeschichte & Medikamente", tags: ["vorerkrankungen", "herz", "diabetes"], de: "Haben Sie chronische Krankheiten wie Diabetes, Bluthochdruck oder Herzprobleme?", en: "Do you have chronic illnesses like diabetes, high blood pressure, or heart problems?", ar: "ŸáŸÑ ÿ™ÿπÿßŸÜŸä ŸÖŸÜ ÿ£ŸÖÿ±ÿßÿ∂ ŸÖÿ≤ŸÖŸÜÿ© ŸÖÿ´ŸÑ ÿßŸÑÿ≥ŸÉÿ±Ÿä ÿ£Ÿà ÿßÿ±ÿ™ŸÅÿßÿπ ÿ∂ÿ∫ÿ∑ ÿßŸÑÿØŸÖ ÿ£Ÿà ŸÖÿ¥ÿßŸÉŸÑ ÿßŸÑŸÇŸÑÿ®ÿü", fa: "ÿ¢€åÿß ÿ®€åŸÖÿßÿ±€å ŸÖÿ≤ŸÖŸÜ ŸÖÿßŸÜŸÜÿØ ÿØ€åÿßÿ®ÿ™ÿå ŸÅÿ¥ÿßÿ± ÿÆŸàŸÜ ÿ®ÿßŸÑÿß €åÿß ŸÖÿ¥⁄©ŸÑÿßÿ™ ŸÇŸÑÿ®€å ÿØÿßÿ±€åÿØÿü", tr: "Diyabet, y√ºksek tansiyon veya kalp sorunlarƒ± gibi kronik hastalƒ±klarƒ±nƒ±z var mƒ±?", ru: "–ï—Å—Ç—å –ª–∏ —É –≤–∞—Å —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ –¥–∏–∞–±–µ—Ç, –≤—ã—Å–æ–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –±–æ–ª–µ–∑–Ω–∏ —Å–µ—Ä–¥—Ü–∞?", uk: "–ß–∏ —î —É –≤–∞—Å —Ö—Ä–æ–Ω—ñ—á–Ω—ñ –∑–∞—Ö–≤–æ—Ä—é–≤–∞–Ω–Ω—è, —Ç–∞–∫—ñ —è–∫ –¥—ñ–∞–±–µ—Ç, –≤–∏—Å–æ–∫–∏–π —Ç–∏—Å–∫ –∞–±–æ —Ö–≤–æ—Ä–æ–±–∏ —Å–µ—Ä—Ü—è?", pl: "Czy ma pan/pani choroby przewlek≈Çe, takie jak cukrzyca, nadci≈õnienie lub problemy z sercem?", ro: "Ave»õi boli cronice precum diabet, hipertensiune sau probleme cardiace?" },
            { cat: "7. Vorgeschichte & Medikamente", tags: ["blutverd√ºnner", "marcumar", "eliquis", "xarelto"], de: "Nehmen Sie blutverd√ºnnende Medikamente? (z.B. Marcumar, Xarelto, Eliquis)", en: "Do you take blood-thinning medications?", ar: "ŸáŸÑ ÿ™ÿ™ŸÜÿßŸàŸÑ ÿ£ÿØŸàŸäÿ© ŸÖÿ≥ŸäŸÑÿ© ŸÑŸÑÿØŸÖÿü", fa: "ÿ¢€åÿß ÿØÿßÿ±ŸàŸáÿß€å ÿ±ŸÇ€åŸÇ ⁄©ŸÜŸÜÿØŸá ÿÆŸàŸÜ ŸÖÿµÿ±ŸÅ ŸÖ€å ⁄©ŸÜ€åÿØÿü", tr: "Kan sulandƒ±rƒ±cƒ± ila√ß kullanƒ±yor musunuz?", ru: "–í—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –¥–ª—è —Ä–∞–∑–∂–∏–∂–µ–Ω–∏—è –∫—Ä–æ–≤–∏?", uk: "–í–∏ –ø—Ä–∏–π–º–∞—î—Ç–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∏ –¥–ª—è —Ä–æ–∑—Ä—ñ–¥–∂–µ–Ω–Ω—è –∫—Ä–æ–≤—ñ?", pl: "Czy bierze pan/pani leki rozrzedzajƒÖce krew?", ro: "Lua»õi medicamente pentru sub»õierea s√¢ngelui?" },
            { cat: "7. Vorgeschichte & Medikamente", tags: ["medikamentenliste", "plan"], de: "Haben Sie einen Medikamentenplan dabei?", en: "Do you have a medication list with you?", ar: "ŸáŸÑ ŸÖÿπŸÉ ŸÇÿßÿ¶ŸÖÿ© ÿ®ÿ£ÿØŸàŸäÿ™ŸÉÿü", fa: "ÿ¢€åÿß ŸÑ€åÿ≥ÿ™ ÿØÿßÿ±ŸàŸáÿß€åÿ™ÿßŸÜ ŸáŸÖÿ±ÿßŸáÿ™ÿßŸÜ ÿßÿ≥ÿ™ÿü", tr: "Yanƒ±nƒ±zda ila√ß listeniz var mƒ±?", ru: "–£ –≤–∞—Å –µ—Å—Ç—å —Å —Å–æ–±–æ–π —Å–ø–∏—Å–æ–∫ –ª–µ–∫–∞—Ä—Å—Ç–≤?", uk: "–£ –≤–∞—Å —î –∑ —Å–æ–±–æ—é —Å–ø–∏—Å–æ–∫ –ª—ñ–∫—ñ–≤?", pl: "Czy ma pan/pani ze sobƒÖ listƒô lek√≥w?", ro: "Ave»õi la dumneavoastrƒÉ o listƒÉ de medicamente?" },
            { cat: "7. Vorgeschichte & Medikamente", tags: ["letzte mahlzeit", "essen", "trinken"], de: "Wann haben Sie zuletzt etwas gegessen oder getrunken?", en: "When was the last time you ate or drank something?", ar: "ŸÖÿ™Ÿâ ŸÉÿßŸÜÿ™ ÿ¢ÿÆÿ± ŸÖÿ±ÿ© ÿ£ŸÉŸÑÿ™ ÿ£Ÿà ÿ¥ÿ±ÿ®ÿ™ ŸÅŸäŸáÿßÿü", fa: "ÿ¢ÿÆÿ±€åŸÜ ÿ®ÿßÿ± ⁄©€å ⁄Ü€åÿ≤€å ÿÆŸàÿ±ÿØ€åÿØ €åÿß ŸÜŸàÿ¥€åÿØ€åÿØÿü", tr: "En son ne zaman bir ≈üeyler yeyip i√ßtiniz?", ru: "–ö–æ–≥–¥–∞ –≤—ã –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –µ–ª–∏ –∏–ª–∏ –ø–∏–ª–∏?", uk: "–ö–æ–ª–∏ –≤–∏ –≤–æ—Å—Ç–∞–Ω–Ω—î —ó–ª–∏ –∞–±–æ –ø–∏–ª–∏?", pl: "Kiedy pan/pani ostatnio jad≈Ç(a) lub pi≈Ç(a)?", ro: "C√¢nd a»õi m√¢ncat sau bƒÉut ultima datƒÉ?" },
            { cat: "7. Vorgeschichte & Medikamente", tags: ["schwanger", "periode", "frau"], de: "K√∂nnten Sie schwanger sein? Wann war Ihre letzte Periode?", en: "Could you be pregnant? When was your last period?", ar: "ŸáŸÑ ŸäŸÖŸÉŸÜ ÿ£ŸÜ ÿ™ŸÉŸàŸÜŸä ÿ≠ÿßŸÖŸÑÿßŸãÿü ŸÖÿ™Ÿâ ŸÉÿßŸÜÿ™ ÿ¢ÿÆÿ± ÿØŸàÿ±ÿ© ÿ¥Ÿáÿ±Ÿäÿ© ŸÑŸÉÿü", fa: "ŸÖŸÖ⁄©ŸÜ ÿßÿ≥ÿ™ ÿ®ÿßÿ±ÿØÿßÿ± ÿ®ÿßÿ¥€åÿØÿü ÿ¢ÿÆÿ±€åŸÜ Ÿæÿ±€åŸàÿØ ÿ¥ŸÖÿß ⁄©€å ÿ®ŸàÿØÿü", tr: "Hamile olabilir misiniz? Son adetiniz ne zamandƒ±?", ru: "–í—ã –º–æ–∂–µ—Ç–µ –±—ã—Ç—å –±–µ—Ä–µ–º–µ–Ω–Ω—ã? –ö–æ–≥–¥–∞ –±—ã–ª–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏—è?", uk: "–í–∏ –º–æ–∂–µ—Ç–µ –±—É—Ç–∏ –≤–∞–≥—ñ—Ç–Ω—ñ? –ö–æ–ª–∏ –±—É–ª–∞ –æ—Å—Ç–∞–Ω–Ω—è –º–µ–Ω—Å—Ç—Ä—É–∞—Ü—ñ—è?", pl: "Czy mo≈ºe byƒá pani w ciƒÖ≈ºy? Kiedy by≈Ça ostatnia miesiƒÖczka?", ro: "A»õi putea fi √ÆnsƒÉrcinatƒÉ? C√¢nd a»õi avut ultima menstrua»õie?" },

            // --- 8. ANWEISUNGEN & UNTERSUCHUNG ---
            { cat: "8. Untersuchung & Anweisungen", tags: ["freimachen", "ausziehen", "kleidung"], de: "Bitte machen Sie den Oberk√∂rper frei.", en: "Please strip to the waist.", ar: "Ÿäÿ±ÿ¨Ÿâ ÿÆŸÑÿπ ŸÖŸÑÿßÿ®ÿ≥ŸÉ ŸÖŸÜ ÿßŸÑÿ£ÿπŸÑŸâ.", fa: "ŸÑÿ∑ŸÅÿß ÿ®ÿßŸÑÿßÿ™ŸÜŸá ÿÆŸàÿØ ÿ±ÿß ÿ®ÿ±ŸáŸÜŸá ⁄©ŸÜ€åÿØ.", tr: "L√ºtfen √ºst√ºn√ºz√º √ßƒ±karƒ±n.", ru: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑–¥–µ–Ω—å—Ç–µ—Å—å –¥–æ –ø–æ—è—Å–∞.", uk: "–ë—É–¥—å –ª–∞—Å–∫–∞, —Ä–æ–∑–¥—è–≥–Ω—ñ—Ç—å—Å—è –¥–æ –ø–æ—è—Å–∞.", pl: "Proszƒô rozebraƒá siƒô do pasa.", ro: "VƒÉ rugƒÉm sƒÉ vƒÉ dezbrƒÉca»õi √Æn partea de sus." },
            { cat: "8. Untersuchung & Anweisungen", tags: ["hinlegen", "liege", "bett"], de: "Bitte legen Sie sich hier auf die Liege.", en: "Please lie down on the examination table.", ar: "Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿßÿ≥ÿ™ŸÑŸÇÿßÿ° ŸáŸÜÿß ÿπŸÑŸâ ÿ≥ÿ±Ÿäÿ± ÿßŸÑŸÅÿ≠ÿµ.", fa: "ŸÑÿ∑ŸÅÿß ÿß€åŸÜÿ¨ÿß ÿ±Ÿà€å ÿ™ÿÆÿ™ ÿØÿ±ÿßÿ≤ ÿ®⁄©ÿ¥€åÿØ.", tr: "L√ºtfen buradaki sedyeye uzanƒ±n.", ru: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ª–æ–∂–∏—Ç–µ—Å—å —Å—é–¥–∞ –Ω–∞ –∫—É—à–µ—Ç–∫—É.", uk: "–ë—É–¥—å –ª–∞—Å–∫–∞, –ª—è–∂—Ç–µ —Å—é–¥–∏ –Ω–∞ –∫—É—à–µ—Ç–∫—É.", pl: "Proszƒô po≈Ço≈ºyƒá siƒô tutaj na kozetce.", ro: "VƒÉ rugƒÉm sƒÉ vƒÉ √Æntinde»õi aici pe pat." },
            { cat: "8. Untersuchung & Anweisungen", tags: ["atmen", "tief", "lunge"], de: "Bitte tief ein- und ausatmen.", en: "Please breathe in and out deeply.", ar: "Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ŸÜŸÅÿ≥ ÿ®ÿπŸÖŸÇ ŸÑŸÑÿØÿßÿÆŸÑ ŸàÿßŸÑÿÆÿßÿ±ÿ¨.", fa: "ŸÑÿ∑ŸÅÿß ÿπŸÖ€åŸÇ ŸÜŸÅÿ≥ ÿ®⁄©ÿ¥€åÿØ.", tr: "L√ºtfen derin nefes alƒ±p verin.", ru: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≥–ª—É–±–æ–∫–æ –≤–¥–æ—Ö–Ω–∏—Ç–µ –∏ –≤—ã–¥–æ—Ö–Ω–∏—Ç–µ.", uk: "–ë—É–¥—å –ª–∞—Å–∫–∞, –≥–ª–∏–±–æ–∫–æ –≤–¥–∏—Ö–Ω—ñ—Ç—å —ñ –≤–∏–¥–∏—Ö–Ω—ñ—Ç—å.", pl: "Proszƒô g≈Çƒôboko wdychaƒá i wydychaƒá powietrze.", ro: "VƒÉ rugƒÉm sƒÉ respira»õi ad√¢nc." },
            { cat: "8. Untersuchung & Anweisungen", tags: ["augen", "folgen", "finger"], de: "Bitte folgen Sie meinem Finger nur mit den Augen.", en: "Please follow my finger with your eyes only.", ar: "Ÿäÿ±ÿ¨Ÿâ ÿ™ÿ™ÿ®ÿπ ÿ•ÿµÿ®ÿπŸä ÿ®ÿπŸäŸÜŸäŸÉ ŸÅŸÇÿ∑.", fa: "ŸÑÿ∑ŸÅÿß ŸÅŸÇÿ∑ ÿ®ÿß ⁄Üÿ¥ŸÖÿßŸÜÿ™ÿßŸÜ ÿßŸÜ⁄Øÿ¥ÿ™ ŸÖŸÜ ÿ±ÿß ÿØŸÜÿ®ÿßŸÑ ⁄©ŸÜ€åÿØ.", tr: "L√ºtfen sadece g√∂zlerinizle parmaƒüƒ±mƒ± takip edin.", ru: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –º–æ–∏–º –ø–∞–ª—å—Ü–µ–º —Ç–æ–ª—å–∫–æ –≥–ª–∞–∑–∞–º–∏.", uk: "–ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –º–æ—ó–º –ø–∞–ª—å—Ü–µ–º —Ç—ñ–ª—å–∫–∏ –æ—á–∏–º–∞.", pl: "Proszƒô ≈õledziƒá m√≥j palec tylko oczami.", ro: "VƒÉ rugƒÉm sƒÉ urmƒÉri»õi degetul meu doar cu ochii." },
            { cat: "8. Untersuchung & Anweisungen", tags: ["locker", "entspannen", "arm"], de: "Bitte lassen Sie den Arm ganz locker.", en: "Please relax your arm completely.", ar: "Ÿäÿ±ÿ¨Ÿâ ÿ•ÿ±ÿÆÿßÿ° ÿ∞ÿ±ÿßÿπŸÉ ÿ™ŸÖÿßŸÖÿßŸã.", fa: "ŸÑÿ∑ŸÅÿß ÿØÿ≥ÿ™ ÿÆŸàÿØ ÿ±ÿß ⁄©ÿßŸÖŸÑÿß ÿ¥ŸÑ ⁄©ŸÜ€åÿØ.", tr: "L√ºtfen kolunuzu tamamen serbest bƒ±rakƒ±n.", ru: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞—Å—Å–ª–∞–±—å—Ç–µ —Ä—É–∫—É.", uk: "–ë—É–¥—å –ª–∞—Å–∫–∞, –ø–æ–≤–Ω—ñ—Å—Ç—é —Ä–æ–∑—Å–ª–∞–±—Ç–µ —Ä—É–∫—É.", pl: "Proszƒô ca≈Çkowicie rozlu≈∫niƒá ramiƒô.", ro: "VƒÉ rugƒÉm sƒÉ relaxa»õi complet bra»õul." },
            { cat: "8. Untersuchung & Anweisungen", tags: ["blutabnahme", "stechen", "nadel"], de: "Ich nehme Ihnen jetzt Blut ab. Es piekst kurz.", en: "I am going to draw some blood now. You will feel a small scratch.", ar: "ÿ≥ÿ£ŸÇŸàŸÖ ÿ®ÿ≥ÿ≠ÿ® ÿ®ÿπÿ∂ ÿßŸÑÿØŸÖ ÿßŸÑÿ¢ŸÜ. ÿ≥ÿ™ÿ¥ÿπÿ± ÿ®ŸàÿÆÿ≤ÿ© ÿµÿ∫Ÿäÿ±ÿ©.", fa: "ÿß⁄©ŸÜŸàŸÜ ÿßÿ≤ ÿ¥ŸÖÿß ÿÆŸàŸÜ ŸÖ€å ⁄Ø€åÿ±ŸÖ. €å⁄© ÿ≥Ÿàÿ≤ÿ¥ ⁄©Ÿà⁄Ü⁄© ÿßÿ≠ÿ≥ÿßÿ≥ ÿÆŸàÿßŸá€åÿØ ⁄©ÿ±ÿØ.", tr: "≈ûimdi sizden kan alacaƒüƒ±m. K√º√ß√ºk bir iƒüne batmasƒ± hissedeceksiniz.", ru: "–°–µ–π—á–∞—Å —è –≤–æ–∑—å–º—É —É –≤–∞—Å –∫—Ä–æ–≤—å. –ë—É–¥–µ—Ç –Ω–µ–±–æ–ª—å—à–æ–π —É–∫–æ–ª.", uk: "–ó–∞—Ä–∞–∑ —è –≤—ñ–∑—å–º—É —É –≤–∞—Å –∫—Ä–æ–≤. –ë—É–¥–µ –Ω–µ–≤–µ–ª–∏–∫–∏–π —É–∫–æ–ª.", pl: "Teraz pobiorƒô krew. Poczuje pan/pani ma≈Çe uk≈Çucie.", ro: "Acum vƒÉ voi lua s√¢nge. Ve»õi sim»õi o micƒÉ √Æn»õepƒÉturƒÉ." },
            { cat: "8. Untersuchung & Anweisungen", tags: ["ekg", "kabel", "herz"], de: "Wir schreiben jetzt ein EKG (Herzstromkurve).", en: "We are going to do an ECG (heart test) now.", ar: "ÿ≥ŸÜŸÇŸàŸÖ ÿ®ÿ•ÿ¨ÿ±ÿßÿ° ÿ™ÿÆÿ∑Ÿäÿ∑ ŸÑŸÑŸÇŸÑÿ® ÿßŸÑÿ¢ŸÜ.", fa: "ÿß⁄©ŸÜŸàŸÜ ŸÜŸàÿßÿ± ŸÇŸÑÿ® (ECG) ŸÖ€å ⁄Ø€åÿ±€åŸÖ.", tr: "≈ûimdi size EKG (kalp grafisi) √ßekeceƒüiz.", ru: "–°–µ–π—á–∞—Å –º—ã —Å–¥–µ–ª–∞–µ–º –≤–∞–º –≠–ö–ì.", uk: "–ó–∞—Ä–∞–∑ –º–∏ –∑—Ä–æ–±–∏–º–æ –≤–∞–º –ï–ö–ì.", pl: "Teraz zrobimy EKG.", ro: "Acum vom face un EKG (electrocardiogramƒÉ)." },
            { cat: "8. Untersuchung & Anweisungen", tags: ["zugang", "nadel", "infusion"], de: "Sie bekommen einen Venenzugang f√ºr Medikamente.", en: "You are getting an IV line for medications.", ar: "ÿ≥ÿ™ÿ≠ÿµŸÑ ÿπŸÑŸâ ŸÇÿ≥ÿ∑ÿ±ÿ© Ÿàÿ±ŸäÿØŸäÿ© ŸÑŸÑÿ£ÿØŸàŸäÿ©.", fa: "ÿ®ÿ±ÿß€å ÿØÿ±€åÿßŸÅÿ™ ÿØÿßÿ±Ÿàÿå €å⁄© ŸÖÿ≥€åÿ± Ÿàÿ±€åÿØ€å (ÿ¢ŸÜ⁄ò€åŸà⁄©ÿ™) ÿ®ÿ±ÿß€åÿ™ÿßŸÜ ŸàÿµŸÑ ŸÖ€å ⁄©ŸÜ€åŸÖ.", tr: "ƒ∞la√ßlar i√ßin size damar yolu a√ßacaƒüƒ±z.", ru: "–í–∞–º –ø–æ—Å—Ç–∞–≤—è—Ç –∫–∞—Ç–µ—Ç–µ—Ä –≤ –≤–µ–Ω—É –¥–ª—è –ª–µ–∫–∞—Ä—Å—Ç–≤.", uk: "–í–∞–º –ø–æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–∞—Ç–µ—Ç–µ—Ä —É –≤–µ–Ω—É –¥–ª—è –ª—ñ–∫—ñ–≤.", pl: "Za≈Ço≈ºymy wk≈Çucie do≈ºylne na leki.", ro: "Ve»õi primi o linie intravenoasƒÉ pentru medicamente." },
            { cat: "8. Untersuchung & Anweisungen", tags: ["urin", "becher", "probe"], de: "Wir ben√∂tigen eine Urinprobe. Bitte in diesen Becher.", en: "We need a urine sample. Please use this cup.", ar: "ŸÜÿ≠ÿ™ÿßÿ¨ ÿ•ŸÑŸâ ÿπŸäŸÜÿ© ÿ®ŸàŸÑ. Ÿäÿ±ÿ¨Ÿâ Ÿàÿ∂ÿπŸáÿß ŸÅŸä Ÿáÿ∞ÿß ÿßŸÑŸÉŸàÿ®.", fa: "ÿ®Ÿá ŸÜŸÖŸàŸÜŸá ÿßÿØÿ±ÿßÿ± ŸÜ€åÿßÿ≤ ÿØÿßÿ±€åŸÖ. ŸÑÿ∑ŸÅÿß ÿØÿ± ÿß€åŸÜ ÿ∏ÿ±ŸÅ ÿ®ÿ±€åÿ≤€åÿØ.", tr: "ƒ∞drar √∂rneƒüine ihtiyacƒ±mƒ±z var. L√ºtfen bu kaba yapƒ±n.", ru: "–ù–∞–º –Ω—É–∂–µ–Ω –∞–Ω–∞–ª–∏–∑ –º–æ—á–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤ —ç—Ç–æ—Ç —Å—Ç–∞–∫–∞–Ω—á–∏–∫.", uk: "–ù–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –∞–Ω–∞–ª—ñ–∑ —Å–µ—á—ñ. –ë—É–¥—å –ª–∞—Å–∫–∞, –≤ —Ü–µ–π —Å—Ç–∞–∫–∞–Ω—á–∏–∫.", pl: "Potrzebujemy pr√≥bki moczu. Proszƒô do tego kubeczka.", ro: "Avem nevoie de o probƒÉ de urinƒÉ. VƒÉ rugƒÉm sƒÉ folosi»õi acest pahar." },
            { cat: "8. Untersuchung & Anweisungen", tags: ["r√∂ntgen", "ct", "bild"], de: "Sie m√ºssen zum R√∂ntgen / CT. Ein Kollege holt Sie gleich ab.", en: "You need an X-ray / CT scan. A colleague will pick you up shortly.", ar: "ÿ™ÿ≠ÿ™ÿßÿ¨ ÿ•ŸÑŸâ ÿ£ÿ¥ÿπÿ© ÿ≥ŸäŸÜŸäÿ© / ÿ™ÿµŸàŸäÿ± ŸÖŸÇÿ∑ÿπŸä. ÿ≥Ÿäÿ£ÿ™Ÿä ÿ≤ŸÖŸäŸÑ ŸÑÿ£ÿÆÿ∞ŸÉ ŸÇÿ±Ÿäÿ®ÿßŸã.", fa: "ÿ¥ŸÖÿß ÿ®Ÿá ÿπ⁄©ÿ≥ ÿ®ÿ±ÿØÿßÿ±€å / ÿ≥€å ÿ™€å ÿßÿ≥⁄©ŸÜ ŸÜ€åÿßÿ≤ ÿØÿßÿ±€åÿØ. €å⁄© ŸáŸÖ⁄©ÿßÿ± ÿ®Ÿá ÿ≤ŸàÿØ€å ÿØŸÜÿ®ÿßŸÑ ÿ¥ŸÖÿß ŸÖ€å ÿ¢€åÿØ.", tr: "R√∂ntgen / Tomografi √ßekilmesi gerekiyor. Bir meslekta≈üƒ±m sizi birazdan alacak.", ru: "–í–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ä–µ–Ω—Ç–≥–µ–Ω / –ö–¢. –ö–æ–ª–ª–µ–≥–∞ —Å–∫–æ—Ä–æ –∑–∞ –≤–∞–º–∏ –∑–∞–π–¥–µ—Ç.", uk: "–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ —Ä–µ–Ω—Ç–≥–µ–Ω / –ö–¢. –ö–æ–ª–µ–≥–∞ —Å–∫–æ—Ä–æ –∑–∞ –≤–∞–º–∏ –∑–∞–π–¥–µ.", pl: "Musi pan/pani zrobiƒá prze≈õwietlenie / tomografiƒô. Kolega zaraz po pana/paniƒÖ przyjdzie.", ro: "Trebuie sƒÉ face»õi o radiografie / un CT. Un coleg vƒÉ va prelua cur√¢nd." }
        ]
    };

    let currentLang = 'en';
    const searchInput = document.getElementById('searchInput');
    let recognition = null;
    let isRecording = false;

    function init() {
        const nav = document.getElementById('langNav');
        Object.keys(data.languages).forEach(key => {
            const btn = document.createElement('button');
            btn.className = `lang-btn ${key === currentLang ? 'active' : ''}`;
            btn.innerHTML = `<span>${data.languages[key].flag}</span> <span>${data.languages[key].name}</span>`;
            btn.onclick = () => setLanguage(key, btn);
            nav.appendChild(btn);
        });

        searchInput.addEventListener('input', (e) => renderPhrases(e.target.value));
        
        // Initial setup
        switchTab('phrases', document.querySelector('.nav-item.active'));
        updatePatientModeUI();
        initSpeechRecognition();
        
        // Render Initial Categories without search term
        renderPhrases('');
    }

    function setLanguage(langCode, btnElement) {
        currentLang = langCode;
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        btnElement.classList.add('active');
        btnElement.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        
        renderPhrases(searchInput.value);
        updatePatientModeUI();
        document.getElementById('translationResult').style.display = 'none';
    }

    function renderPhrases(searchTerm = '') {
        const container = document.getElementById('phraseContainer');
        container.innerHTML = '';
        const term = searchTerm.toLowerCase().trim();
        const langInfo = data.languages[currentLang];
        const textDirection = langInfo.rtl ? 'rtl' : 'ltr';
        
        // Filter logic
        const filtered = data.phrases.filter(p => {
            if (!term) return true;
            return p.de.toLowerCase().includes(term) || p.tags.some(tag => tag.includes(term));
        });

        if (filtered.length === 0) {
            container.innerHTML = `<div style="text-align: center; padding: 40px 20px; color: var(--text-light);">Keine Treffer f√ºr "${searchTerm}"</div>`;
            return;
        }

        // Group by Category
        const grouped = filtered.reduce((acc, phrase) => {
            if (!acc[phrase.cat]) acc[phrase.cat] = [];
            acc[phrase.cat].push(phrase);
            return acc;
        }, {});

        // Build DOM
        Object.keys(grouped).forEach((categoryName, index) => {
            // Wenn gesucht wird, alles anzeigen/√∂ffnen. Wenn nicht gesucht wird, alles einklappen.
            const isOpen = term.length > 0;

            const catWrapper = document.createElement('div');
            
            // Header (Clickable Accordion)
            const header = document.createElement('div');
            header.className = `category-header ${isOpen ? 'open' : ''}`;
            header.innerHTML = `
                <span>${categoryName}</span>
                <span class="chevron">‚ñº</span>
            `;
            
            // Content Box
            const content = document.createElement('div');
            content.className = `category-content ${isOpen ? 'open' : ''}`;
            
            // Toggle Logic
            header.onclick = () => {
                const currentlyOpen = content.classList.contains('open');
                content.classList.toggle('open');
                header.classList.toggle('open');
                
                // Optional: Auto-close others (Accordion Style)
                // if(!currentlyOpen) {
                //    document.querySelectorAll('.category-content').forEach(c => { if(c !== content) c.classList.remove('open') });
                //    document.querySelectorAll('.category-header').forEach(h => { if(h !== header) h.classList.remove('open') });
                // }
            };

            // Add Phrases to Content
            grouped[categoryName].forEach(p => {
                const targetText = p[currentLang] || "√úbersetzung fehlt";
                const safeTargetText = targetText.replace(/'/g, "\\'").replace(/"/g, "&quot;");
                
                const card = document.createElement('div');
                card.className = 'phrase-card';
                card.innerHTML = `
                    <div>
                        <div class="german">${p.de}</div>
                        <div class="target-lang ${textDirection}">${targetText}</div>
                    </div>
                    <div class="card-actions">
                        <button class="action-btn play" onclick="speakText('${safeTargetText}', '${langInfo.code}')" title="Vorlesen">üîä</button>
                    </div>
                `;
                content.appendChild(card);
            });

            catWrapper.appendChild(header);
            catWrapper.appendChild(content);
            container.appendChild(catWrapper);
        });
    }

    function updatePatientModeUI() {
        const uiText = data.languages[currentLang].ui;
        document.getElementById('pm-yes-text').innerText = uiText.yes;
        document.getElementById('pm-no-text').innerText = uiText.no;
        document.getElementById('pm-idk-text').innerText = uiText.idk;
    }

    function switchTab(tab, element) {
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        if(element) element.classList.add('active');

        document.getElementById('phrasesView').style.display = tab === 'phrases' ? 'block' : 'none';
        document.getElementById('freeTextView').style.display = tab === 'freetext' ? 'flex' : 'none';
        document.getElementById('patientModeView').style.display = tab === 'patient' ? 'flex' : 'none';
        
        // Searchbar verbergen wenn wir nicht in den Phrasen sind
        document.getElementById('searchBox').style.display = tab === 'phrases' ? 'block' : 'none';
    }

    function handlePatientAnswer(answerGerman, color) {
        if (navigator.vibrate) navigator.vibrate([50, 50, 50]);
        
        const overlay = document.getElementById('answerOverlay');
        overlay.style.backgroundColor = color;
        overlay.innerText = answerGerman;
        overlay.classList.add('show');
        
        setTimeout(() => { overlay.classList.remove('show'); }, 2000);

        if ('speechSynthesis' in window) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance("Patient sagt: " + answerGerman);
            msg.lang = 'de-DE';
            window.speechSynthesis.speak(msg);
        }
    }

    function initSpeechRecognition() {
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRec = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRec();
            recognition.lang = 'de-DE';
            recognition.continuous = false;
            recognition.interimResults = false;

            recognition.onstart = () => {
                isRecording = true;
                document.getElementById('micBtn').classList.add('recording');
            };

            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                document.getElementById('freeTextInput').value = transcript;
            };

            recognition.onerror = (event) => {
                console.error("Sprachfehler", event.error);
                stopDictation();
            };
            recognition.onend = () => stopDictation();
        } else {
            document.getElementById('micBtn').style.display = 'none';
        }
    }

    function toggleDictation() {
        if (!recognition) return alert("Browser unterst√ºtzt Spracheingabe nicht (nutze Chrome/Safari).");
        if (isRecording) { recognition.stop(); } 
        else { document.getElementById('freeTextInput').value = ''; recognition.start(); }
    }

    function stopDictation() {
        isRecording = false;
        document.getElementById('micBtn').classList.remove('recording');
    }

    async function translateAndSpeak() {
        const text = document.getElementById('freeTextInput').value.trim();
        if (!text) return;

        const langInfo = data.languages[currentLang];
        const targetLangShort = langInfo.code.split('-')[0];
        
        document.getElementById('translateText').style.display = 'none';
        document.getElementById('translateLoader').style.display = 'block';
        document.getElementById('translationResult').style.display = 'none';

        try {
            const response = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=de|${targetLangShort}`);
            const json = await response.json();
            
            if (json.responseStatus === 200) {
                const translatedText = json.responseData.translatedText;
                document.getElementById('resGerman').innerText = text;
                const targetDiv = document.getElementById('resTarget');
                targetDiv.innerText = translatedText;
                targetDiv.className = `target-lang ${langInfo.rtl ? 'rtl' : 'ltr'}`;
                
                document.getElementById('translationResult').style.display = 'block';
                speakText(translatedText, langInfo.code);
            }
        } catch (error) {
            alert("Keine Internetverbindung f√ºr Live-√úbersetzung.");
        } finally {
            document.getElementById('translateText').style.display = 'inline';
            document.getElementById('translateLoader').style.display = 'none';
        }
    }

    function speakResultText() {
        speakText(document.getElementById('resTarget').innerText, data.languages[currentLang].code);
    }

    function speakText(text, langCode) {
        if ('speechSynthesis' in window) {
            window.speechSynthesis.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = langCode;
            utterance.rate = 0.85;
            window.speechSynthesis.speak(utterance);
        } else {
            alert("Dein Browser unterst√ºtzt keine Sprachausgabe.");
        }
    }

    init();
</script>
</body>
</html>
